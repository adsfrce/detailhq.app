<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Support – DetailHQ</title>
  <link rel="icon" type="image/png" href="app_icon.PNG" />
  <link rel="apple-touch-icon" href="app_icon.PNG" />
  <meta name="theme-color" content="#000000" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="style-app.css" />

  <!-- Supabase JS -->
  <script src="https://unpkg.com/@supabase/supabase-js@2.48.0/dist/umd/supabase.js"></script>
</head>

<body class="theme-light">
  <div id="app-root">
    <div id="support-view" class="view active" style="max-width:480px; margin:0 auto;">
      <!-- Header -->
      <header class="app-header glass">
        <div style="display:flex; align-items:center; gap:10px;">
          <button id="support-back" class="icon-button small" type="button" title="Back">←</button>
          <div>
            <h2 style="margin:0;">Support</h2>
            <p class="header-subtitle" style="margin:2px 0 0;">Create ticket</p>
          </div>
        </div>

        <button id="support-logout" class="btn btn-secondary btn-small" type="button">
          Logout
        </button>
      </header>

      <main class="app-main">
        <div class="settings-group glass">
          <h3>What is this about?</h3>
          <p class="settings-help">
            Choose a category and describe your issue. We’ll get back to you as soon as possible.
          </p>

          <label class="field-label" for="support-topic">Topic</label>
          <select id="support-topic" class="field-input" style="appearance:auto;">
            <option value="problem_mit_zahlung">Payment issue</option>
            <option value="abo_verwalten">Manage subscription</option>
            <option value="app_fehler">App bug</option>
            <option value="login_probleme">Login issues</option>
            <option value="fragen">Questions</option>
            <option value="sonstiges">Other</option>
          </select>

          <label class="field-label" for="support-message" style="margin-top:12px;">Message</label>
          <textarea
            id="support-message"
            class="field-input"
            rows="6"
            placeholder="Briefly describe what is happening. If possible: what you expected vs. what actually happened."
            style="resize:none;"
          ></textarea>

          <div id="support-error" class="error-text"></div>

          <button id="support-submit" class="btn btn-primary" type="button" style="margin-top:10px;">
            Submit
          </button>

          <div id="support-success" class="form-hint" style="display:none; margin-top:12px;">
            Support ticket received. We’ll get back to you as soon as possible.
          </div>
        </div>

        <div class="settings-group glass">
          <h3>Direct contact</h3>
          <p class="settings-help">
          </p>

          <div class="list-container" style="display:flex; flex-direction:column; gap:8px;">
            <a class="link-button" href="mailto:support@detailhq.app">support@detailhq.app</a>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script src="support.js?v1.00"></script>
</body>
</html>
